{"version":3,"sources":["components/ImgGalleryItem/ImgGalleryItem.module.css","components/Modal/Modal.module.css","components/ImgGallery/ImgGallery.module.css","components/Button/Button.module.css","components/Loader/Loader.module.css","components/Searchbar/Searchbar.module.css","components/Searchbar/Searchbar.jsx","components/ImgGalleryItem/ImgGalleryItem.jsx","components/ImgGallery/ImgGallery.jsx","components/API/fetchAPI.js","components/Button/Button.jsx","components/Loader/Loader.jsx","components/Modal/Modal.jsx","App.jsx","index.js"],"names":["module","exports","Searchbar","onHandleSubmit","useState","input","setInput","className","css","header","form","onSubmit","e","preventDefault","trim","toast","error","type","btn","label","value","autoComplete","autoFocus","placeholder","onChange","target","ImageGalleryItem","webformatURL","largeImageURL","tags","onOpenModal","item","src","alt","image","onClick","ImageGallery","images","list","map","id","fetchApi","page","a","axios","get","data","hits","Button","onLoadMore","Spinner","wrap","color","height","width","timeout","modalRoot","document","querySelector","Modal","onToggleModal","useEffect","handleKeyDown","code","window","addEventListener","removeEventListener","createPortal","backdrop","currentTarget","modal","App","setImages","setLargeImageURL","setPage","setError","Loading","setLoading","showModal","setShowModal","fetchImages","request","length","prevImages","toggleModal","scrollPage","setTimeout","scrollBy","top","documentElement","clientHeight","behavior","newSearch","dataset","source","prevPage","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.9b1b54f3.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"ImgGalleryItem_item__2KgR5\",\"image\":\"ImgGalleryItem_image__JIvUY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"Modal_backdrop__3_cPN\",\"modal\":\"Modal_modal__2bc_e\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"ImgGallery_list__2KHfw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2Hhj3\",\"button\":\"Button_button__4GVVy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrap\":\"Loader_wrap__2TBxd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Searchbar_header__3cFPz\",\"form\":\"Searchbar_form__1EcWw\",\"btn\":\"Searchbar_btn__2hRgj\",\"label\":\"Searchbar_label__2OwoB\",\"input\":\"Searchbar_input__10YA4\"};","import { useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport css from \"./Searchbar.module.css\";\nimport toast, { Toaster } from \"react-hot-toast\";\n\nexport function Searchbar({ onHandleSubmit }) {\n  const [input, setInput] = useState(\"\");\n\n  const onSubmit = (e) => {\n    e.preventDefault();\n    if (input.trim() === \"\") {\n      return toast.error(`Please, enter your request for search images!`);\n    }\n    onHandleSubmit(input);\n    setInput(\"\");\n  };\n\n  return (\n    <header className={css.header}>\n      <form className={css.form} onSubmit={onSubmit}>\n        <button type=\"submit\" className={css.btn}>\n          <span className={css.label}>Search</span>\n        </button>\n\n        <input\n          className={css.input}\n          type=\"text\"\n          value={input}\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n          onChange={({ target }) => setInput(target.value)}\n        />\n      </form>\n      <Toaster />\n    </header>\n  );\n}\n\nSearchbar.propTypes = {\n  onHandleSubmit: PropTypes.func.isRequired,\n};\n","import PropTypes from \"prop-types\";\nimport css from \"./ImgGalleryItem.module.css\";\n\nexport function ImageGalleryItem({\n  webformatURL,\n  largeImageURL,\n  tags,\n  onOpenModal,\n}) {\n  return (\n    <li className={css.item}>\n      <img\n        src={webformatURL}\n        alt={tags}\n        data-source={largeImageURL}\n        className={css.image}\n        onClick={onOpenModal}\n      />\n    </li>\n  );\n}\n\nImageGalleryItem.propTypes = {\n  largeImageURL: PropTypes.string.isRequired,\n  tags: PropTypes.string.isRequired,\n  webformatURL: PropTypes.string.isRequired,\n};\n","import PropTypes from \"prop-types\";\nimport { ImageGalleryItem } from \"../ImgGalleryItem/ImgGalleryItem\";\nimport css from \"./ImgGallery.module.css\";\n\nexport function ImageGallery({ images, onOpenModal }) {\n  return (\n    <ul className={css.list}>\n      {images.map(({ id, webformatURL, largeImageURL, tags }) => (\n        <ImageGalleryItem\n          key={id}\n          webformatURL={webformatURL}\n          largeImageURL={largeImageURL}\n          tags={tags}\n          onOpenModal={onOpenModal}\n        />\n      ))}\n    </ul>\n  );\n}\n\nImageGallery.propTypes = {\n  images: PropTypes.array.isRequired,\n  onOpenModal: PropTypes.func.isRequired,\n};\n","import axios from \"axios\";\n\nexport const fetchApi = async (input, page) => {\n  const { data } = await axios.get(\n    `https://pixabay.com/api/?q=${input}&page=${page}&key=22578440-e1e5ecfa8eecbfc5a41a583d6&image_type=photo&orientation=horizontal&per_page=12`\n  );\n  return data.hits;\n};\n","import PropTypes from \"prop-types\";\nimport css from \"./Button.module.css\";\n\nexport function Button({ onLoadMore }) {\n  return (\n    <button type=\"button\" className={css.Button} onClick={onLoadMore}>\n      Load more\n    </button>\n  );\n}\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n","import Loader from \"react-loader-spinner\";\nimport css from \"./Loader.module.css\";\n\nexport function Spinner() {\n  return (\n    <div className={css.wrap}>\n      <Loader\n        type=\"Circles\"\n        color=\"#00BFFF\"\n        height={80}\n        width={80}\n        timeout={3000}\n      />\n    </div>\n  );\n}\n","import { useEffect } from \"react\";\nimport { createPortal } from \"react-dom\";\n// import { disableBodyScroll, enableBodyScroll } from \"body-scroll-lock\";\nimport PropTypes from \"prop-types\";\nimport css from \"./Modal.module.css\";\n\nconst modalRoot = document.querySelector(\"#modal-root\");\n\nexport function Modal({ largeImageURL, onToggleModal }) {\n  useEffect(() => {\n    const handleKeyDown = (e) => {\n      if (e.code === \"Escape\") {\n        onToggleModal();\n      }\n    };\n    window.addEventListener(\"keydown\", handleKeyDown);\n    return () => {\n      window.removeEventListener(\"keydown\", handleKeyDown);\n    };\n  }, [onToggleModal]);\n\n  const handleBackdropClick = (e) => {\n    if (e.currentTarget === e.target) {\n      onToggleModal();\n    }\n  };\n\n  return createPortal(\n    <div className={css.backdrop} onClick={handleBackdropClick}>\n      <div className={css.modal}>\n        <img src={largeImageURL} alt=\"\" />\n      </div>\n    </div>,\n    modalRoot\n  );\n}\n\nModal.propTypes = {\n  onToggleModal: PropTypes.func.isRequired,\n};\n","import { useState, useEffect } from \"react\";\nimport { Searchbar } from \"./components/Searchbar/Searchbar\";\nimport { ImageGallery } from \"./components/ImgGallery/ImgGallery\";\nimport { fetchApi } from \"./components/API/fetchAPI\";\nimport { Button } from \"./components/Button/Button\";\nimport { Spinner } from \"./components/Loader/Loader\";\nimport { Modal } from \"./components/Modal/Modal\";\n// import { showError } from \"./components/Error/Error\";\n\nexport default function App() {\n  const [input, setInput] = useState(\"\");\n  const [images, setImages] = useState([]);\n  const [largeImageURL, setLargeImageURL] = useState(\"\");\n  const [page, setPage] = useState(1);\n  const [error, setError] = useState(null);\n  const [Loading, setLoading] = useState(false);\n  const [showModal, setShowModal] = useState(false);\n\n  useEffect(() => {\n    if (!input) return;\n    const fetchImages = async () => {\n      try {\n        const request = await fetchApi(input, page);\n        if (request.length === 0) {\n          return setError(`No results were found for ${input}!`);\n        }\n        setImages((prevImages) => [...prevImages, ...request]);\n      } catch (error) {\n        setError(\"Something went wrong. Try again.\");\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchImages();\n  }, [page, input]);\n\n  const searchImages = (newSearch) => {\n    setInput(newSearch);\n    setImages([]);\n    setPage(1);\n    setError(null);\n    setLoading(true);\n  };\n\n  const onLoadMore = () => {\n    setLoading(true);\n    setPage((prevPage) => prevPage + 1);\n    scrollPage();\n  };\n\n  const onOpenModal = (e) => {\n    setLargeImageURL(e.target.dataset.source);\n    toggleModal();\n  };\n\n  const toggleModal = () => {\n    setShowModal(!showModal);\n  };\n\n  const scrollPage = () => {\n    setTimeout(() => {\n      window.scrollBy({\n        top: document.documentElement.clientHeight - 160,\n        behavior: \"smooth\",\n      });\n    }, 800);\n  };\n\n  return (\n    <div>\n      <Searchbar onHandleSubmit={searchImages} />\n\n      {images.length > 0 && !error && (\n        <ImageGallery images={images} onOpenModal={onOpenModal} />\n      )}\n\n      {Loading && <Spinner />}\n\n      {!Loading && images.length >= 12 && !error && (\n        <Button onLoadMore={onLoadMore} />\n      )}\n\n      {showModal && (\n        <Modal onToggleModal={toggleModal} largeImageURL={largeImageURL} />\n      )}\n    </div>\n  );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}